<mat-card class="reset-password-container">
  <mat-card-header class="centered-title">
    <mat-card-title>{{ 'RESET_PASSWORD.TITLE' | translate }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="resetForm" (ngSubmit)="resetPassword()">

      <!-- Nové heslo -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'RESET_PASSWORD.NEW_PASSWORD_LABEL' | translate }}</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input matInput
          type="password"
          formControlName="password"
          required
          [placeholder]="'RESET_PASSWORD.NEW_PASSWORD_PLACEHOLDER' | translate"
          minlength="6" />
        @if (password?.invalid && (password?.dirty || password?.touched)) {
          <mat-error>
            @if (password?.errors?.['required']) {
              <span>{{ 'RESET_PASSWORD.PASSWORD_REQUIRED' | translate }}</span>
            }
            @if (password?.errors?.['minlength']) {
              <span>{{ 'RESET_PASSWORD.PASSWORD_MINLENGTH' | translate }}</span>
            }
          </mat-error>
        }
      </mat-form-field>

      <!-- Potvrďte heslo -->
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>{{ 'RESET_PASSWORD.CONFIRM_PASSWORD_LABEL' | translate }}</mat-label>
        <mat-icon matPrefix>lock</mat-icon>
        <input matInput
          type="password"
          formControlName="confirmPassword"
          required
          [placeholder]="'RESET_PASSWORD.CONFIRM_PASSWORD_PLACEHOLDER' | translate" />
        @if (confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)) {
          <mat-error>
            @if (confirmPassword?.errors?.['required']) {
              <span>{{ 'RESET_PASSWORD.CONFIRM_PASSWORD_REQUIRED' | translate }}</span>
            }
            @if (confirmPassword?.errors?.['mismatch']) {
              <span>{{ 'RESET_PASSWORD.PASSWORDS_MISMATCH' | translate }}</span>
            }
          </mat-error>
        }
      </mat-form-field>

      <!-- Globální chyba -->
      @if (error) {
        <div class="error-message">
          {{ error }}
        </div>
      }

      <button mat-flat-button class="custom-button" color="primary" type="submit" [disabled]="resetForm.invalid">
        {{ 'RESET_PASSWORD.BUTTON_SUBMIT' | translate }}
      </button>

      <div class="login-link" style="margin-top: 10px;">
        <a routerLink="/login" href="/login">{{ 'RESET_PASSWORD.BACK_TO_LOGIN' | translate }}</a>
      </div>

    </form>
  </mat-card-content>
</mat-card>
